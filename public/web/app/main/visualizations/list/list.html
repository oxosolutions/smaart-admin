<div class="page-layout carded fullwidth single-scroll pb-30" layout="row">

    <!-- TOP BACKGROUND -->
    <div class="top-bg md-accent-bg"></div>
    <!-- / TOP BACKGROUND -->

    <!-- CENTER -->
    <div class="center" flex>

        <!-- CONTENT HEADER -->
        <div class="goal-header" layout="column">
            <div flex>
              <span class="h2 white-fg">Visualizations</span>
            </div>

            <!--
            <div class="breadcrumb" flex>
                <md-icon md-font-icon="icon-dns" class="s16"></md-icon>
                <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                <span class="parent">LIST DATA</span>
            </div>
            -->
        </div>
        <!-- / CONTENT HEADER -->
        <style type="text/css">
                .dataTables_wrapper .top {
                        border-bottom: 1px solid #e8e8e8;
                        padding: 0 0 24px 0;
                        }
                        .dataTables_wrapper .dataTables_filter input{
                        width: 225px;
                        }
                    .goal-header{
                            height: 75px;
                            min-height: 75px;
                            max-height: 90px;
                            padding: 24px;

                            }
                            .action-separator{
                            color:#787878;
                            padding: 0 4px;
                        }
                            .page-layout .top-bg{
                                            height: 139px;
                                        }
                                       /* md-dialog md-dialog-content:not([layout=row]) > *:first-child:not(.md-subheader) {
                            margin-top: 0;
                            border-bottom: 1px solid #e8e8e8;*/
                        a{
                            text-decoration:none !important;color: grey
                        }
                        md-menu-item :hover a,md-icon{
                            color: grey !important
                        }

            </style>

        <!-- CONTENT CARD -->
        <div class="content-card">

            <!-- CONTENT TOOLBAR -->
            <div class="toolbar" layout="row" layout-xs="column" layout-align="start center">
                <div flex layout="row" layout-align="start center" class="pv-30 h3" hide-xs>
                    <h3 class=" ">List of Available Visualizations</h3>
                </div>
                <div flex layout="row" layout-align="end center">
                    <a href="visualizations/add"><md-tooltip md-direction="top" class="md-body-1"><span class="p-10">Create New Visualization</span></md-tooltip>
                        <md-button class=" md-accent md-raised ph-15">Add Visualization</md-button>
                    </a>
                </div>
            </div>
            <!-- / CONTENT TOOLBAR -->
            <!-- CONTENT -->
            <md-content class="content" ms-scroll>
                <!-- CONTENT -->
                <div >
                  <table class="dataTable row-border hover" datatable="ng" dt-options="vm.dtOptions">
                    <thead>
                      <tr>
                        <th class="secondary-text sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending">
                          <div class="table-header"><span class="column-title">ID</span></div>
                        </th>
                        <th class="secondary-text sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending">
                          <div class="table-header"><span class="column-title">Visualization Name</span></div>
                        </th>
                        <th class="secondary-text sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending">
                          <div class="table-header"><span class="column-title">Dataset</span></div>
                        </th>
                        <th class="secondary-text sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Age: activate to sort column ascending">
                          <div class="table-header"><span class="column-title">Actions</span></div>
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="visual in vm.visuals">
                        <td>{{visual.id}}</td>
                        <td><a href="visual/edit/{{visual.id}}"><md-tooltip md-direction="top" class="md-body-1"> click here to edit visualization settings</md-tooltip>{{ visual.name }}</a></td>
                        <td><a href="dataset/view/{{visual.dataset.id}}" ><md-tooltip md-direction="top" class="md-body-1"> click here to view dataset for this visualization</md-tooltip>{{ visual.dataset.dataset_name }}</a></td>
                        <td>

                             <md-menu>


                                <md-button aria-label="Open demo menu" class="md-accent-bg ph-15" ng-click="$mdOpenMenu($event)">
                                    <md-tooltip md-direction="top" class="md-body-1">Click here for the Visual action list. </md-tooltip>

                                    <div layout="row" layout-align="center center">
                                        <div layout="row" layout-align="center center">Actions</div>
                                        <div layout="row" layout-align="center center"><md-icon md-font-icon="icon-drag-vertical" class="white-fg s24 md-accent font-weight-300 pl-5"></md-icon></div>
                                    </div> 

                                </md-button>
                                <md-menu-content width="4" class="ActionView">
                                    <md-menu-item >
                                        <md-button  href="visual/view/{{visual.id}}" id="{{visual.id}}">
                                        
                                        <md-icon md-font-icon="icon-desktop-mac" class="s24"></md-icon>
                                            <a href="visual/view/{{visual.id}}" id="{{visual.id}}" class="action-link">View</a>
                                        </md-button>
                                        <md-tooltip md-direction="top" class="md-body-1">Preview Visualization</md-tooltip>
                                    </md-menu-item>
                                    <md-menu-item >
                                        <md-button href="visual/edit/{{visual.id}}" id="{{visual.id}}">
                                       <md-icon md-font-icon="icon-pencil" class="s24"></md-icon>
                                             <a href="visual/edit/{{visual.id}}" id="{{visual.id}}" class="action-link">Edit</a>
                                        </md-button>
                                        <md-tooltip md-direction="top" class="md-body-1">Edit the Visualization settings</md-tooltip>
                                    </md-menu-item>
                                    <md-menu-item >
                                        <md-button href="visual/view/{{visual.id}}" id="{{visual.id}}">
                                        <md-icon md-font-icon="icon-content-copy" class="s24"></md-icon>
                                            <a href="#" id="{{visual.id}}" class="action-link" ng-click="createClone(visual.id)">Clone</a>
                                        </md-button>
                                        <md-tooltip md-direction="top" class="md-body-1">This operation will create cloned visualization </md-tooltip>
                                    </md-menu-item>
                                    <md-menu-item >
                                        <md-button href="#" id="{{visual.id}}"  ng-click="generateCode(visual.id)">
                                        <md-icon md-font-icon="icon-code-tags" class="s24"></md-icon>
                                             <a href="#" id="{{visual.id}}" class="action-link" ng-click="generateCode1(visual.id)">Generate Embed Code</a>
                                        </md-button>
                                        <md-tooltip md-direction="top" class="md-body-1">Generate Embed code of visual</md-tooltip>
                                    </md-menu-item>

                                   
                                    
                                    <md-menu-item class="md-indent">
                                        <md-button href="#" id="{{visual.id}}" class=" delLink">
                                        <md-icon md-font-icon="icon-trash" class="s24"></md-icon>
                                             <a href="#" id="{{visual.id}}" ng-click="deleteVisual(visual.id)" class="action-link delLink" style="color:red">Delete <md-progress-circular md-mode="indeterminate"  md-diameter="20" style="display:none;" id="{{visual.id}}"></md-progress-circular></a>
                                        </md-button>
                                        <md-tooltip md-direction="top" class="md-body-1"> Delete Visualization</md-tooltip>
                                    </md-menu-item>


                                  
                                </md-menu-content>
                             </md-menu>






                       <!--  <a href="visual/view/{{visual.id}}" id="{{visual.id}}" class="action-link"><md-tooltip md-direction="top" class="md-body-1"><span class="p-10">Preview Visualization</span></md-tooltip>View</a><span class="action-separator">/</span>
                        <a href="visual/edit/{{visual.id}}" id="{{visual.id}}" class="action-link"><md-tooltip md-direction="top" class="md-body-1"><span class="p-10">Edit the Visualization settings</span></md-tooltip>Edit</a><span class="action-separator">/</span>

                        <a href="#" id="{{visual.id}}" class="action-link" ng-click="generateCode(visual.id)"><md-tooltip md-direction="top" class="md-body-1"><span class="p-10">Generate Embed code of visual</span></md-tooltip>Generate Embed Code</a><span class="action-separator">/</span>

                        <a href="#" id="{{visual.id}}" ng-click="deleteVisual(visual.id)" class="action-link delLink" style="color:red"><md-tooltip md-direction="top" class="md-body-1"><span class="p-10">Delete Visualization</span></md-tooltip>Delete <md-progress-circular md-mode="indeterminate"  md-diameter="20" style="display:none;" id="{{visual.id}}"></md-progress-circular></a>
                        </td> -->

                      </tr>
                    </tbody>
                  </table>
                </div>
                <!-- /CONTENT -->
            </md-content>
            <!-- / CONTENT -->
        </div>
        <!-- / CONTENT CARD -->
    </div>
    <!-- / CENTER -->
</div>
